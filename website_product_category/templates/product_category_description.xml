<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="product_category_description" inherit_id="website_sale.products"
              name="Product Category Description">
        <xpath expr="//div[hasclass('o_wsale_products_main_row')]" position="before">
            <t t-if="category and category.description">
                <script src="/website_product_category/static/src/js/readmore.js"></script>
                <link rel="stylesheet" href="/website_product_category/static/src/css/readmore.css"/>
                <div class="fold-wrapper-wrapper my-2">
                    <div t-attf-id="folded_category_description" t-attf-class="fold-wrapper-description" t-field="category.description"/>
                </div>
                <script>
                    new Readmore('#folded_category_description', {
                    speed: 500,
                    collapsedHeight: 300,
                    beforeToggle: function(trigger, element, expanded) {
                        $(".fold-wrapper-wrapper").toggleClass("fullview");
                    },
                    moreLink: '<div class="fold-wrapper-last-toggle justify-content-center" style="display: flex;"><a href="#" class="btn btn-primary rounded-circle"><i class="mx-2 fa fa-angle-double-down fa-2x"></i></a></div>',
                    lessLink: '<div class="fold-wrapper-last-toggle justify-content-center" style="display: flex;"><a href="#" class="btn btn-primary rounded-circle"><i class="mx-2 fa fa-angle-double-up fa-2x"></i></a></div>'
                    });
                </script>
            </t>

        </xpath>
    </template>
</odoo>
